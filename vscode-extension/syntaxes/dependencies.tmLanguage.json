{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "sbt-dependencies",
  "scopeName": "source.sbt-dependencies",
  "patterns": [
    { "include": "#comments" },
    { "include": "#advanced-group" },
    { "include": "#simple-group" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-slash.sbt-dependencies",
          "match": "//.*$"
        },
        {
          "name": "comment.line.hash.sbt-dependencies",
          "match": "#.*$"
        },
        {
          "name": "comment.block.sbt-dependencies",
          "begin": "/\\*",
          "end": "\\*/"
        }
      ]
    },
    "simple-group": {
      "begin": "^\\s*([\\w][\\w.-]*)\\s*(=)\\s*(\\[)",
      "beginCaptures": {
        "1": { "name": "entity.name.tag.group.sbt-dependencies" },
        "2": { "name": "keyword.operator.assignment.sbt-dependencies" },
        "3": { "name": "punctuation.definition.array.begin.sbt-dependencies" }
      },
      "end": "\\]",
      "endCaptures": {
        "0": { "name": "punctuation.definition.array.end.sbt-dependencies" }
      },
      "patterns": [
        { "include": "#comments" },
        { "include": "#dependency-object" },
        { "include": "#dependency-string" }
      ]
    },
    "advanced-group": {
      "begin": "^\\s*([\\w][\\w.-]*)\\s*(\\{)",
      "beginCaptures": {
        "1": { "name": "entity.name.tag.group.sbt-dependencies" },
        "2": { "name": "punctuation.definition.block.begin.sbt-dependencies" }
      },
      "end": "\\}",
      "endCaptures": {
        "0": { "name": "punctuation.definition.block.end.sbt-dependencies" }
      },
      "patterns": [
        { "include": "#comments" },
        { "include": "#dependencies-array" },
        { "include": "#advanced-group-keys" },
        { "include": "#scala-version-value" }
      ]
    },
    "advanced-group-keys": {
      "match": "\\b(scala-versions|scala-version)\\b",
      "name": "support.type.property-name.sbt-dependencies"
    },
    "dependencies-array": {
      "begin": "(dependencies)\\s*(=)\\s*(\\[)",
      "beginCaptures": {
        "1": { "name": "support.type.property-name.sbt-dependencies" },
        "2": { "name": "keyword.operator.assignment.sbt-dependencies" },
        "3": { "name": "punctuation.definition.array.begin.sbt-dependencies" }
      },
      "end": "\\]",
      "endCaptures": {
        "0": { "name": "punctuation.definition.array.end.sbt-dependencies" }
      },
      "patterns": [
        { "include": "#comments" },
        { "include": "#dependency-object" },
        { "include": "#dependency-string" }
      ]
    },
    "scala-version-value": {
      "begin": "\"",
      "beginCaptures": {
        "0": { "name": "punctuation.definition.string.begin.sbt-dependencies" }
      },
      "end": "\"",
      "endCaptures": {
        "0": { "name": "punctuation.definition.string.end.sbt-dependencies" }
      },
      "name": "string.quoted.double.sbt-dependencies",
      "patterns": [
        { "include": "#version-marker" },
        { "include": "#version-number" }
      ]
    },
    "dependency-object": {
      "begin": "\\{",
      "beginCaptures": {
        "0": { "name": "punctuation.definition.object.begin.sbt-dependencies" }
      },
      "end": "\\}",
      "endCaptures": {
        "0": { "name": "punctuation.definition.object.end.sbt-dependencies" }
      },
      "patterns": [
        { "include": "#comments" },
        {
          "match": "\\b(dependency|note)\\b",
          "name": "support.type.property-name.sbt-dependencies"
        },
        {
          "match": "=",
          "name": "keyword.operator.assignment.sbt-dependencies"
        },
        { "include": "#dependency-string" }
      ]
    },
    "dependency-string": {
      "begin": "\"",
      "beginCaptures": {
        "0": { "name": "punctuation.definition.string.begin.sbt-dependencies" }
      },
      "end": "\"",
      "endCaptures": {
        "0": { "name": "punctuation.definition.string.end.sbt-dependencies" }
      },
      "name": "string.quoted.double.sbt-dependencies",
      "patterns": [
        { "include": "#dependency-content" }
      ]
    },
    "dependency-content": {
      "match": "([^\\s:\"]+)(::?)([^\\s:\"]+)(?:(:)(?:(\\{\\{\\w+\\}\\})|([=^~]?)(\\d[^\\s:\"]*))(?:(:[^\\s:\"]+))?)?",
      "captures": {
        "1": { "name": "entity.name.namespace.organization.sbt-dependencies" },
        "2": { "name": "punctuation.separator.sbt-dependencies" },
        "3": { "name": "entity.name.function.artifact.sbt-dependencies" },
        "4": { "name": "punctuation.separator.sbt-dependencies" },
        "5": { "name": "variable.other.readwrite.sbt-dependencies" },
        "6": { "name": "keyword.control.version-marker.sbt-dependencies" },
        "7": { "name": "constant.numeric.version.sbt-dependencies" },
        "8": { "name": "support.constant.configuration.sbt-dependencies" }
      }
    },
    "variable-reference": {
      "match": "\\{\\{\\w+\\}\\}",
      "name": "variable.other.readwrite.sbt-dependencies"
    },
    "version-marker": {
      "match": "[=^~](?=\\d)",
      "name": "keyword.control.version-marker.sbt-dependencies"
    },
    "version-number": {
      "match": "\\d[\\d.]*[\\w.-]*",
      "name": "constant.numeric.version.sbt-dependencies"
    }
  }
}
